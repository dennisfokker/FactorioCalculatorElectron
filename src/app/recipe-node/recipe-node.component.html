<div class="recipe-block">
    <app-icon-renderer class="icon" [icon]="ingredient.item.icon"></app-icon-renderer>
    <span>{{ingredient.amount}}/s</span>

    <div class="machines">
        <img src="assets/icons/stone-furnace.png" onerror="this.onerror=null; this.src='assets/icons/__Unknown__.png';" />
        ×50 or
        <img src="assets/icons/steel-furnace.png" onerror="this.onerror=null; this.src='assets/icons/__Unknown__.png';" />
        ×40 or
        <img src="assets/icons/electric-furnace.png" onerror="this.onerror=null; this.src='assets/icons/__Unknown__.png';" />
        ×25
    </div>

    <div class="header" *ngIf="ingredient.recipe && ingredient.recipe.ingredients.length > 0">
        <div class="fa fa-chevron-circle-down collapser" (click)="recipeListContainerCollapseClick()" [ngClass]="collapsed ? 'collapsed' : ''"></div>
    </div>
    <div class="fa fa-cog settings" (click)="settingsClick($event)"></div>
</div>
<div #ingredientListContainer class="ingredients-list collapsable" *ngIf="ingredient.recipe && ingredient.recipe.ingredients.length > 0" (transitionstart)="ingredientListContainer.style.visibility = 'visible'" (transitionend)="ingredientListContainer.style.visibility = collapsed ? 'hidden' : 'visible'">
    <app-recipe-node class="ingredients-list-item" [parentNode]="this" [ingredient]="ing" *ngFor="let ing of ingredient.recipe.ingredients"></app-recipe-node>
</div>
